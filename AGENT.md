# エージェント作業規範

このリポジトリはLLMのファインチューニング用データセットを目的別ディレクトリで管理します。以下の規範に従って作業してください。

## 基本方針
- 目的ごとのディレクトリ構造を保持し、不要な混在を避ける。
- データセットごとの仕様書・READMEを必ず確認し、形式やバリデーションルールを厳守する。
- ファイルはUTF-8（BOMなし）で保存し、改行コードはLFを使用する。
- 生成・編集したデータはdiffで変更箇所を確認し、必ず自動チェックを実行する。

## データセット作成・編集
- 各データセットのスキーマや制約を満たすかを検証し、不整合を残さない。
- メタデータ（ライセンス、ソース、バージョン、作成日時など）が要求されている場合は漏れなく記載する。
- インスタンス順序や分割（train/valid/test）に規定がある場合は順守する。
- 個人情報や著作権侵害の恐れがあるデータは含めない。必要に応じて匿名化・引用範囲の確認を行う。
- 言語やスタイルの指定がある場合、例示と突き合わせて整合性を確認する。

## 命名・配置
- 目的ディレクトリ直下にあるAGENT.mdの指示に従い、さらにサブディレクトリにAGENT.mdがある場合はそちらを優先する。
- ファイル命名はスキーマやディレクトリごとの規約に合わせ、日付やバージョンを付ける際はISO 8601形式（例: `2024-05-18`）を使用する。
- 一時ファイルやノート類はコミットしない。

## コード・スクリプト
- 変換や検証スクリプトを追加する場合は再現性を重視し、依存関係を明示する（`requirements.txt`や`pyproject.toml`など）。
- 例外処理は必要最小限とし、入出力の検証を行う。ログや警告は明示的に記録する。
- スクリプトの入出力例や使い方をREADMEに追記すること。

## テスト・バリデーション
- データ整形・検証用のコマンドを用意し、変更時には必ず実行する。
- 大規模データの場合はサンプルを用いてテストし、全体処理時の手順を残す。
- lintや型チェックが設定されている場合はそれらも実行し、結果を記録する。

## コミット・PR
- 意味のある単位でコミットし、メッセージは簡潔かつ具体的に記載する。
- PRでは目的・変更概要・検証内容を明記し、データ品質に関わる懸念点があれば説明する。

## セキュリティ・コンプライアンス
- ライセンス条件を遵守し、外部データの出典や利用許諾を明示する。
- 機密情報や個人情報の取り扱いに注意し、必要に応じて削除・マスク処理を行う。

## ドキュメント
- 各データセットに対し、スキーマ、前処理手順、検証方法、分割ルールなどをREADMEにまとめる。
- 変更時は影響範囲や更新手順を追記し、再現性を確保する。
